<!DOCTYPE html>
<html>
<head>
  <title>MetaMart Dice main</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script type="module">
    import { TonConnectUI } from "https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js";

    const tg = window.Telegram.WebApp;
    tg.expand();

    const tonConnectUI = new TonConnectUI({
      manifestUrl: 'https://metamartdice1.vercel.app/tonconnect-manifest.json',
    });

    window.onload = () => {
      const connectButton = document.getElementById("connect");
      const betButton = document.getElementById("bet");

      connectButton.onclick = () => {
        tonConnectUI.connectWallet().catch(console.error);
      };

      betButton.onclick = () => {
        const result = Math.random() < 0.5 ? "You lost 😢" : "You won 🤑";
        alert(result);
      };
    };
  </script>
</head>
<body style="font-family: sans-serif; padding: 20px;">
  <h2>🎲 MetaMart Dice</h2>
  <button id="connect">🔗 Connect TON Wallet</button>
  <br/><br/>
  <button id="bet">🎲 Place Bet</button>
</body>
</html>
